<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="A simple web app that allows the user to guess whether a number is prime or composite.">
  <title>Prime or Composite?</title>
  
  <style>
    /* Merged from style.css */
    @import url('https://fonts.googleapis.com/css2?family=Montserrat&display=swap');

    body {
      font-family: 'Montserrat', sans-serif;
      margin: 0;
      padding: 20px;
    }
    .container {
      max-width: 600px;
      margin: 0 auto;
      text-align: center;
    }
    .container2 {
      max-width: 600px;
      margin: 0 auto;
      text-align: left;
    }
    h1 {
      font-size: 36px;
      margin-top: 0;
    }
    h2 {
      font-size: 20px;
      margin-top: 0;
      text-align: center;
    }
    button {
      margin: 10px;
      padding: 10px 20px;
      font-size: 18px;
      border-radius: 5px;
      border: none;
      background-color: #008CBA;
      color: #fff;
      cursor: pointer;
    }
    button:hover {
      background-color: #005D6E;
    }
    .digits:hover {
      background-color: #990000;
    }
    a:link {
      text-decoration: none;
      color: red;
    }
    a:visited {
      text-decoration: none;
      color: green;
    }
    a:hover {
      text-decoration: none;
      color: #008cba;
    }
    a:active {
      text-decoration: none;
      color: blue;
    }
    #number, #result {
      font-size: 32px;
      margin-top: 20px;
      color: #444444;
      font-weight: bold;
    }
    /* Simple utility to switch views */
    .hidden {
      display: none;
    }
  </style>
</head>
<body>

  <div id="game-view" class="container">
    <button class="button digits" onclick="setDigits(2)">2</button>
    <button class="button digits" onclick="setDigits(3)">3</button>
    <button class="button digits" onclick="setDigits(4)">4</button>
    <button class="button digits" onclick="setDigits(5)">5</button>
    <button class="button digits" onclick="setDigits(6)">6</button>

    <h1>Prime or Composite?</h1>
    <h2>Is the following <span id="digits"></span>-digit number prime or composite?</h2>
    <p id="number"></p>
    <button onclick="checkPrime()">Prime</button>
    <button onclick="checkComposite()">Composite</button>
    <button onclick="clearResult(); clearFactors(); generateNewNumber();">Another</button>
    <p id="result"></p>
    <h2>Correct: <span id="correct">0</span></h2>
    <h2>Incorrect: <span id="incorrect">0</span></h2>
    <h2>Prime Factors: <span id="factors"></span></h2>
    <h2><a href="#" onclick="toggleView('info-view')">Learn more</a></h2>
  </div>

  <div id="info-view" class="container2 hidden">
    <center>
      <h2>What is a prime number?</h2>
    </center>
    <p>A prime number is a positive integer greater than 1 that has no positive integer divisors other than 1 and itself. In other words, a prime number is a number that can only be evenly divided by 1 and itself.</p>
    <p>For example, 2, 3, 5, 7, 11, 13, 17, 19, 23, 29, and 31 are all prime numbers.</p>
    <p>On the other hand, 4 is not a prime number because it can be divided by 1, 2, and 4. Similarly, 6, 8, 9, 10, 12, 14, 15, 16, 18, 20, 21, 22, 24, 25, 26, 27, 28, 30, and so on are not prime numbers, and are referred to as composite numbers. The number 1 is neither prime nor composite.</p>
    <p>Prime numbers have many interesting properties and are important in mathematics and computer science for cryptography, number theory, and other fields.</p>

    <center>
      <h2>What is prime factorization?</h2>
    </center>
    <p>Prime factorization is the process of finding the prime numbers that multiply together to give a given number. In other words, it is a way to express a composite number as the product of its prime factors.</p>
    <p>To find the prime factorization of a number, you start by dividing the number by the smallest prime number that divides it evenly. Then you repeat this process with the quotient until the quotient is a prime number.</p>
    <p>For example, let's find the prime factorization of the number 36:</p>
    <ul>
      <li>Divide 36 by 2, which gives 18. 2 is a prime number.</li>
      <li>Divide 18 by 2, which gives 9. 2 does not divide 9 evenly, so try the next prime number, which is 3.</li>
      <li>Divide 9 by 3, which gives 3. 3 is a prime number.</li>
    </ul>
    <p>Therefore, the prime factorization of 36 is 2 ⋅ 2 ⋅ 3 ⋅ 3.</p>
    <p>Prime factorization is used in many areas of mathematics, including number theory, cryptography, and algebra. It is also important in computer science for tasks such as integer factorization and prime number generation.</p>
    
    <center>
      <h2><a href="#" onclick="toggleView('game-view')">Back to the game</a></h2>
    </center>
  </div>

  <script>
    /* Merged from script.js */
    var number;
    var checked = false;
    let digits = 0;
    let correct = 0;
    let incorrect = 0;
    let factorlist = '';
    let result = '';

    const correctDisplay = document.getElementById("correct");
    const incorrectDisplay = document.getElementById("incorrect");
    const digitsDisplay = document.getElementById("digits");
    const numberElement = document.getElementById('number');
    const resultElement = document.getElementById('result');
    const factorsElement = document.getElementById('factors');

    // UI View Toggle Logic
    function toggleView(viewId) {
      document.getElementById('game-view').classList.add('hidden');
      document.getElementById('info-view').classList.add('hidden');
      document.getElementById(viewId).classList.remove('hidden');
      window.scrollTo(0, 0);
    }

    // function to set the number of digits
    function setDigits(d) {
      if (d != digits) {
        digits = d;
        digitsDisplay.textContent = d;
        checked = false;
        generateNewNumber();
        clearResult();
      }
    }

    // function to generate random number
    function generateNumber() {
      let n = 0;
      // Generates an odd number not ending in 5 to make it less trivial
      while ((n % 2 == 0) || (n % 5 == 0)) {
        n = Math.floor(Math.random() * 9 * 10 ** (digits - 1)) + 10 ** (digits - 1);
      }
      return n;
    }

    // function to get a new random number and display it on the page
    function generateNewNumber() {
      number = generateNumber();
      factorlist = primeFactors(number);
      numberElement.textContent = number;
      clearFactors();
    }

    // function to check if a number is prime
    function isPrime(n) {
      if (n < 2) return false;
      for (let i = 2; i <= Math.sqrt(n); i++) {
        if (n % i === 0) {
          return false;
        }
      }
      return true;
    }

    function displayResult(res) {
      resultElement.textContent = res;
    }

    function displayFactors() {
      factorsElement.textContent = factorlist;
    }

    function clearResult() {
      resultElement.textContent = '';
      checked = false;
    }

    function clearFactors() {
      factorsElement.textContent = '';
    }

    function checkAnswer(isCorrect) {
      if (isCorrect) {
        displayResult('Correct!');
        incrementCorrect();
      } else {
        displayResult('Incorrect!');
        incrementIncorrect();
      }
      displayFactors();
      checked = true;
    }

    function checkPrime() {
      if (!checked) {
        let isCorrect = isPrime(number);
        checkAnswer(isCorrect);
      }
    }

    function checkComposite() {
      if (!checked) {
        let isCorrect = !(isPrime(number));
        checkAnswer(isCorrect);
      }
    }

    function incrementCorrect() {
      correct++;
      correctDisplay.textContent = correct;
    }

    function incrementIncorrect() {
      incorrect++;
      incorrectDisplay.textContent = incorrect;
    }

    function primeFactors(n) {
      const factors = [];
      let tempN = n;
      while (tempN % 2 == 0) {
        factors.push(2);
        tempN = tempN / 2;
      }
      for (let i = 3; i <= Math.sqrt(tempN); i = i + 2) {
        while (tempN % i == 0) {
          factors.push(i);
          tempN = tempN / i;
        }
      }
      if (tempN > 2) {
        factors.push(tempN);
      }
      
      let factorsString = '';
      for (let i = 0; i < factors.length; i++) {
        factorsString += factors[i];
        if (i < factors.length - 1) {
          factorsString += '\u22C5';
        }
      }
      return factorsString;
    }

    // Initialize the game
    setDigits(3);
  </script>
</body>
</html>
